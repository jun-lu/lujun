<!DOCTYPE html PUBLIC "-//WAPFORUM//DTD XHTML Mobile 1.0//EN" "http://www.wapforum.org/DTD/xhtml-mobile10.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>一个排序算法测试页面</title>
</head>

<body>
<style type="text/css">
	/*member*/
	.b{ font-weight:700;}
	.bd_1{border:1px solid #ABB8CE;}
	.f14{ font-size:14px;}
	.tc{ text-align:center;}
	.tl{ text-align:left;}
	
	.table_list{}
	.w30{ width:30px;}
	.w50{ width:50px;}
	.w100{ width:100px;}
	.table_list .menu,.menu .page_number{padding:6px 8px 4px 8px; }
	.table_list .menu{background:#E3E5E6;position:relative;}
	.menu .page_number{ display:inline-block; position:absolute; right:0; top:5px;+margin-right:20px;}
	.menu .m_r10{_margin-left:-4px;}
	
	
	.table{cellpadding:0;cellspacing:0; width:100%;line-height:2.5em; font-size:12px; text-align:left;}
	.table thead{ border-bottom:1px solid #FFF;}
	.table thead,.table tr:hover,.js_hover{background:#D0DBEE;}
	.table thead th{font-weight:700;}
	.table .even{background:#EEF4F7;}

</style>
<div><h2>说明</h2>
	1:写这个主要是为了锻炼自己，并无实际意义。<br/>
    2:每个浏览器测试得出的数据会不一样。比如我用chrome 测试 一般快速排序都会最快，IE 则根据数组长度有可能希尔最快。<br/>
    3:不要太大数据去测试冒泡排序(浏览器崩溃了我不管)<br/>
    4:<a hidden="http://files.cnblogs.com/idche/sorttest.rar" target="_blank">下载测试页面</a>
</div>
<br/>
<div>
	<h2>测试</h2>
	<div>算法正确性测试(给出一个正确的测试数组)</div>
	<textarea style="width:600px;" id="testArray">[4,2,5,6,8,9,7,0,1,3]</textarea>
    <div id="testResults">
    	
    </div>
    <br/>
    
    <div>
    <button type="button" onclick="jelle.correctness('quickSort')" >快速排序</button>
    <button type="button" onclick="jelle.correctness('insertSort')" >插入排序</button>
    <button type="button" onclick="jelle.correctness('shellSort')" >希尔排序</button>
    <button type="button" onclick="jelle.correctness('systemSort')" >系统方法</button>
    <button type="button" onclick="jelle.correctness('bubbleSort')" >冒泡排序</button>
    <button type="button" onclick="jelle.$('testResults').innerHTML = ''" >清空</button>
        </div>
</div>

<br/>
<br/>

<div>
分别用长度为 <input type="text" value="1000" id="arrayLength" /> 数组排序 10次;<span style="color:#f30;">数组太长请慎用 冒泡排序 </span>
<table cellpadding="0" cellspacing="0" class="table bd_1">
                        
                        <colgroup>

                        <col style="width:100px;">
                        <col>
                        <col>
                        <col>
                        <col>
                        <col>
                        </colgroup>
                        
						<thead class="b f14">
                          <tr>
                              <th class="tc">算法</th>
                              <th>数组长度</th>
                              <th class="tl">分别用时(毫秒)</th>										
                              <th>平均(毫秒)</th>										
                              <th>点击测试</th>								
                          </tr>
                         </thead>
                      <tbody id="memberListIn">   
                      
					  
                      <tr>
                            <td  class="tc">快速排序</td>
                            <td><span id="length_1"></span></td>
                            <td><span id="times_1"></span></td>
                            <td><span id="time_1"></span></td>
                            <td><button type="button" onclick="jelle.test('quickSort', 1)">测试</button></td>

                        </tr>
                        
                        <tr id="970000000000001">
                            <td  class="tc">插入排序</td>
                            <td><span id="length_2"></span></td>
                            <td><span id="times_2"></span></td>
                            <td><span id="time_2"></span></td>
                            <td><button type="button" onclick="jelle.test('insertSort', 2)" >测试</button></td>
                        </tr>
                        
                        
                        <tr>
                            <td  class="tc">希尔排序</td>
                            <td><span id="length_3"></span></td>
                            <td><span id="times_3"></span></td>
                            <td><span id="time_3"></span></td>
                            <td><button type="button" onclick="jelle.test('shellSort', 3)" >测试</button></td>
                        </tr>
                        
                        
                        <tr>
                            <td  class="tc">系统方法</td>
                            <td><span id="length_4"></span></td>
                            <td><span id="times_4"></span></td>
                            <td><span id="time_4"></span></td>
                            <td><button type="button" onclick="jelle.test('systemSort', 4)" >测试</button>
                            </td>
                        </tr>
                        
                        <tr>
                            <td  class="tc">冒泡排序</td>
                            <td><span id="length_5"></span></td>
                            <td><span id="times_5"></span></td>
                            <td><span id="time_5"></span></td>
                            <td><button type="button" onclick="jelle.test('bubbleSort', 5)" title="数组太长可能就卡死">小心测试</button></td>
                        </tr>
                        
                      </tbody>
                    </table>
</div>


<div>
	<h2>个人理解</h2>
    <b>冒泡排序</b>:最简单，也最慢，貌似长度小于7最优<br/>
    <b>插入排序</b>:比冒泡快，比快速排序和希尔排序慢，较小数据有优势<br/>
    <b>快速排序</b>:这是一个非常快的排序方式，V8的sort方法就使用快速排序和插入排序的结合<br/>
    <b>希尔排序</b>:在非chrome下数组长度小于1000，希尔排序比快速更快<br/>
    <b>系统方法</b>:在forfox下系统的这个方法非常快<br/>
    <br/>
   <h2> 在日常WEB编程中使用系统方法完全够用  <a hidden="http://files.cnblogs.com/idche/sorttest.rar" target="_blank">下载测试页面</a></h2>
   <h2>文章来自：http://www.cnblogs.com/idche/</h2>
</div>
<script src="../src/Jun.js" type="text/javascript"></script>
<script src="../src/Jun.do.js" type="text/javascript"></script>
<script src="../src/Jun.array.js" type="text/javascript"></script>
<script type="text/javascript">
Jun.mix(Jun.array, {
		df:function(len){
			var array = [], i;
			len = len || 1000;
			for(i = 0; i< len; i++){
				array.push(i);
			}
			return array.sort(function(){ return Math.random() > 0.5});
		},
		test:function(method, arrayLength, callBack){
			
			var times = [];
			var i = 0;
			var sum = 0;
			var len = 10;
			
			for(;i<len;i++){
				test();
			}
			
			for(i=0;i<times.length;i++){
				sum+=times[i];
			}
			
			

			function test(){
				var array = Jun.array.df(arrayLength);
				var st = new Date().getTime();
				Jun.array[method](array); //shellSort  quickSort  systemSort
				var d = new Date().getTime() - st;
				callBack && callBack(new Date().getTime() - st);
				times.push(d);
			}
			
			return sum / len;
		}
	});
</script>

<script type="text/javascript">
	var jelle = {
		index:1,
		$:function(id){
			return document.getElementById(id);
		},
		test:function(method, num){
			var arrayLength = parseInt(jelle.$('arrayLength').value);
			jelle.index = num;
			jelle.$('length_'+num).innerHTML = arrayLength;
			jelle.$('times_'+num).innerHTML = '';
			jelle.$('time_'+num).innerHTML = Jun.array.test(method, arrayLength, jelle.insert);;
		},
		insert:function(num){
			jelle.$('times_'+jelle.index).innerHTML += num+', ';
		},
		correctness:function(method){
			var array = new Function('return '+ jelle.$('testArray').value)();
			jelle.$('testResults').innerHTML += '<div>['+method+']: '+Jun.array[method](array)+'</div>';
		}
	}
</script>
</body>
</html>
